<svg #container [attr.width]="overflow ? width : '100%'">
  <g>
    <rect *ngFor="let entry of labels" 
      [attr.x]="entry[1].positions[0]"
      [attr.width]="entry[1].positions[1] - entry[1].positions[0]" 
      [attr.height]="height"
      [style.fill]="'#f5f5f5'"/>
    <text *ngFor="let entry of labels"
      [attr.x]="entry[1].positions[0]" 
      [attr.y]="10"
      [style.font-size]="14" 
      [attr.textLength]="entry[1].positions[1] - entry[1].positions[0]"
      [attr.lengthAdjust]="spacing">
      <tspan *ngFor="let label of entry[1].formattedLabel" 
        [attr.x]="entry[1].positions[0] - 1"
        [attr.dy]="10">{{label}}</tspan>
    </text>
  </g>

  <g class="edge-group">
    <path #edges
        *ngFor="let edge of edges; let index = index; trackBy: trackByEdge"
        [matTooltip]="edge.tooltip"
        [matTooltipPosition]="edgeTooltipPosition(edge)"
        [attr.d]="edge.path"
        [style.stroke]="edge.color"
        [style.stroke-width]="3.5 * edge.weight">
    </path>
  </g>

  <g class="node-group">
    <circle *ngFor="let node of nodes; trackBy: trackByNode"
        [matTooltip]="node.tooltip" [matTooltipPosition]="'above'"
        [attr.r]="node.radius"
        [attr.cx]="node.x"
        [attr.cy]="height / 2"
        [style.fill]='node.color'>
    </circle>
  </g>
</svg>
